## gc

- c#에서는 GC(가비지 콜렉터)가 발생하면서 서버간 연결에 문제가 발생한데 왜냐하면 해당 콜렉터가 발생할 때는 서버가 일시적으로 정지하기때문이다.

- 실제 사용서버에서도 서버간 연결이 5초내로 응답이 없을 경우 해지하는 경우가있었다. GC가 5초 이상동안 수행되었을 때 서버간 연결이 해지되는 현상이 발생했다.

- 0, 1, 2 세대가 존재하여 2세대가 발동할 때 가장 긴 정지를할 뿐이지 0, 1, 2 모두 가비지 콜렉터가 발동될 때는 서버가 일시적으로 정지를한다.

- 위 문제를 대응하기 위해서 C#에서 만든 방법이 존재하는데 그것은 서버애플리케이션에서의 GC 튜닝이다.

````c#
<configuration>
  <runtime>
    <gcServer enabled="true"/>
  </runtime>
</configuration>

````

- 위 방법을 사용한다면 다중 스레드 병렬 수집을 진행할 수 있어 여러 CPU 코어를 활용하여 GC 작업을 병렬로 수행함으로써 일시 정지 시간을 줄입니다.

- cf : 워크 스테이션 GC vs 서버 GC => 기본적으로 워크 스테이션 GC는 클라이언트 애플리케이션에 최적화되어 있고, 서버 GC는 서버 애플리케이션에 최적화되어 있습니다.