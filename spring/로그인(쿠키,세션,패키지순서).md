
#### 쿠키 세션에 앞서 패키지 순서


- domain이 가장 중요하다 도메인은 화면ui나 인프라영역을 제외한  핵심 비지니스 업무 영역이다. service인건가?


- domain
	- item
    - member
    - login
    
- web
	- item
    - member
    - login
    
- 위에서 분리를 해 놓는 것은 web기술이 바뀌어도 domain에는 영향이 없도록하기 위해서이다. 웹은 도메인에 의존하지만 도메인은 웹에 의존하지않는다. 



#### Repsotiroy

- Repsotiroy에서 구현을 할 때 hashMap을 선택할 때 동시성을 고려해서 멀티스레딩을 생각하면 구현체를 ConcurrentHashMap을 사용해야한다    ex : private static Map<Loing, Member> store = new ConcurrentHashMap<>();




#### 쿠기

- 서버에서 로그인이 성공하면 Http응답에 쿠키를 담아서 브라우저에 전달한다, 이후에 클라이언트는 항상 서버로 무언가를 보낼 때 쿠키를 포함해서 보낸다

- 쿠키에는 영속쿠키와, 세션 쿠키가 있다

	- 영속 쿠키 : 만료날짜까지 유지
    - 세션 쿠키 : 브라우저 종료시 끝
    
#### 쿠키의 보안 문제

- 쿠키는 클라이언트에서 보관하기에 임으의로 변경이 가능하다

- 쿠키에 개인정보들이 있다면 매우 위험하다

- 이런 것을 위해서 쿠키에 중요한 값을 노출 하지 않으면서, 클라이언트 별로 uuid(랜덤 토큰 값)을 사용한다

- 또 해당 토큰이 일정 시간 후에 사용이 없다면 해당 토큰을 강제로 제거하면된다.




