import time
import requests
from bs4 import BeautifulSoup
from  selenium import webdriver
from selenium.webdriver.common.keys import Keys

browser = webdriver.Chrome('./chromedriver_win32/chromedriver.exe')
browser.maximize_window()
url = 'https://www.google.com/flights'
browser.get(url)
# 출발
go_want = input('')
browser.find_element_by_xpath('//*[@id="i6"]/div[1]/div/div/div[1]/div/div/input').click()
time.sleep(1)
browser.find_element_by_xpath('//*[@id="i6"]/div[6]/div[2]/div[2]/div[1]/div/input').send_keys(Keys.CONTROL + "a")
time.sleep(1)
browser.find_element_by_xpath('//*[@id="i6"]/div[6]/div[2]/div[2]/div[1]/div/input').send_keys(Keys.DELETE)
time.sleep(1)
browser.find_element_by_xpath('//*[@id="i6"]/div[6]/div[2]/div[2]/div[1]/div/input').send_keys(go_want)
time.sleep(1)
browser.find_element_by_xpath('//*[@id="i6"]/div[6]/div[2]/div[2]/div[1]/div/input').send_keys(Keys.ENTER)

# 도착
go_desti = input('')
browser.find_element_by_xpath('//*[@id="i6"]/div[4]/div/div/div[1]/div/div/input').click()
time.sleep(1)
browser.find_element_by_xpath('//*[@id="i6"]/div[6]/div[2]/div[2]/div[1]/div/input').send_keys(go_desti)
time.sleep(1)
browser.find_element_by_xpath('//*[@id="i6"]/div[6]/div[2]/div[2]/div[1]/div/input').send_keys(Keys.ENTER)

#날짜선택하기
start_day = input('')
browser.find_element_by_xpath('//*[@id="yDmH0d"]/c-wiz[2]/div/div[2]/div/c-wiz/div/c-wiz/div[2]/div[1]/div[1]/div[2]/div[2]/div/div/div[1]/div/div/div[1]/div/div[1]/div/input').click()
time.sleep(1)
browser.find_element_by_xpath('//*[@id="yDmH0d"]/c-wiz[2]/div/div[2]/div/c-wiz/div/c-wiz/div[2]/div[1]/div[1]/div[2]/div[2]/div/div/div[1]/div/div/div[1]/div/div[1]/div/input').clear()
time.sleep(1)
browser.find_element_by_xpath('//*[@id="ow59"]/div[2]/div/div[2]/div[1]/div[1]/div[1]/div/input').click()
time.sleep(1)
browser.find_element_by_xpath('//*[@id="ow59"]/div[2]/div/div[2]/div[1]/div[1]/div[1]/div/input').send_keys(Keys.CONTROL + "a")
time.sleep(1)
browser.find_element_by_xpath('//*[@id="ow59"]/div[2]/div/div[2]/div[1]/div[1]/div[1]/div/input').send_keys(Keys.DELETE)
time.sleep(1)
browser.find_element_by_xpath('//*[@id="ow59"]/div[2]/div/div[2]/div[1]/div[1]/div[1]/div/input').send_keys(start_day)
time.sleep(1)
browser.find_element_by_xpath('//*[@id="ow59"]/div[2]/div/div[2]/div[1]/div[1]/div[1]/div/input').send_keys(Keys.ENTER)

end_day = input('')
browser.find_element_by_xpath('//*[@id="ow59"]/div[2]/div/div[2]/div[1]/div[1]/div[2]/div/input').click()
time.sleep(1)
browser.find_element_by_xpath('//*[@id="ow59"]/div[2]/div/div[2]/div[1]/div[1]/div[2]/div/input').send_keys(Keys.CONTROL + "a")
time.sleep(1)
browser.find_element_by_xpath('//*[@id="ow59"]/div[2]/div/div[2]/div[1]/div[1]/div[2]/div/input').send_keys(Keys.DELETE)
time.sleep(1)
browser.find_element_by_xpath('//*[@id="ow59"]/div[2]/div/div[2]/div[1]/div[1]/div[2]/div/input').send_keys(end_day)
time.sleep(1)
browser.find_element_by_xpath('//*[@id="ow59"]/div[2]/div/div[2]/div[1]/div[1]/div[2]/div/input').send_keys(Keys.ENTER)
# 날짜선택 확인 누르기
time.sleep(2)
browser.find_element_by_xpath('//*[@id="ow59"]/div[2]/div/div[3]/div[3]/div/button/span').click()


# 비용가지고 오기
time.sleep(2)
# elements로 가져와도 길이는 1지만 정보는 다 들어가있다
elem = browser.find_element_by_xpath('//*[@id="yDmH0d"]/c-wiz[2]/div/div[2]/div/div/div/c-wiz/div[2]/div/div[1]/main/div/div[2]/ol')
elems = elem.find_elements_by_tag_name('li')
items = list()

cnt = 1;
for i in elems:
    if i.text == "":
        break
    print(cnt)
    cnt += 1
    print(i.text)

time.sleep(10)
browser.close()


"""
elements 는 해당하는결과의 모든것을 list로 반환
element는 해당값의 첫번째 결과만 element값으로 반환합니다
# elements로 가져와도 길이는 1지만 정보는 다 들어가있다
 elem = driver.find_element_ 솰라솰라
elems = elem.find_elements_by_tag_name('li')

"""