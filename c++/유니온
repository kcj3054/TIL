#include <bits/stdc++.h>

using namespace std;

/*
Union
- Store differnt data types in the same memory space
- Structure vs Union
*/
/*
유니온은 유니온 안에 다른 데이터형들이 여러개 있어도 메모리공간을 같이 공유해서 사용한다.
그래서 밑의 my_union은 8바이트가 잡히게된다.
*/

union my_union {
	int    i;
	double d;
	char   c;
};

int main()
{
	union my_union uni;

	cout << sizeof(uni) << endl;
	cout << (long long)&uni << endl;
	//모두 맴버의 같은 주소가 나온다 -> 주소를 공유한다.!! 
	cout << (long long)&uni.i << " " << (long long)&uni.d << " " << (long long)&uni.c << endl;

	//결과는 A에 대해서 나온다! 
	uni.i = 5;
	uni.c = 'A';


	union my_union uni2 = uni;
	union my_union uni3 = { 10 }; // First member only
	union my_union uni3 = {'A'}; //Designated initializer
	union my_union uni3 = {1.23, 100 }; // no no
	return 0;
}